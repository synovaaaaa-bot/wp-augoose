--- a/wp-augoose/inc/woocommerce.php
+++ b/wp-augoose/inc/woocommerce.php
@@ -8,6 +8,48 @@
 if ( ! function_exists( 'wp_augoose_verify_ajax_nonce' ) && file_exists( get_template_directory() . '/inc/security.php' ) ) {
 	require_once get_template_directory() . '/inc/security.php';
 }
+
+/**
+ * Helper function: Check if current request is WooCommerce AJAX
+ * 
+ * CRITICAL: Use this to prevent HTML output during wc-ajax requests
+ * WooCommerce uses ?wc-ajax=update_order_review for checkout AJAX
+ * 
+ * @return bool True if this is a WooCommerce AJAX request
+ */
+function augoose_is_wc_ajax_request() {
+	// Check wp_doing_ajax() first (covers admin-ajax.php)
+	if ( wp_doing_ajax() ) {
+		// Check if it's a WooCommerce AJAX action
+		if ( isset( $_REQUEST['action'] ) ) {
+			$action = sanitize_text_field( $_REQUEST['action'] );
+			if ( strpos( $action, 'woocommerce_' ) === 0 || 
+			     $action === 'update_checkout_quantity' ||
+			     $action === 'update_order_review' ) {
+				return true;
+			}
+		}
+	}
+	
+	// Check wc-ajax endpoint (WooCommerce's standard AJAX endpoint)
+	if ( isset( $_REQUEST['wc-ajax'] ) || isset( $_GET['wc-ajax'] ) || isset( $_POST['wc-ajax'] ) ) {
+		return true;
+	}
+	
+	// Check DOING_AJAX constant
+	if ( defined( 'DOING_AJAX' ) && DOING_AJAX ) {
+		// Additional check: if wc-ajax is in request, it's WC AJAX
+		if ( isset( $_REQUEST['wc-ajax'] ) || isset( $_GET['wc-ajax'] ) || isset( $_POST['wc-ajax'] ) ) {
+			return true;
+		}
+	}
+	
+	// Check REST_REQUEST (optional, for WooCommerce REST API)
+	if ( defined( 'REST_REQUEST' ) && REST_REQUEST ) {
+		// Only if it's a WooCommerce REST request
+		if ( isset( $_SERVER['REQUEST_URI'] ) && strpos( $_SERVER['REQUEST_URI'], '/wc/' ) !== false ) {
+			return true;
+		}
+	}
+	
+	return false;
+}
 
 /**
  * Ensure WCML currency switching works properly
@@ -1626,6 +1668,10 @@
 add_action( 'wp_footer', 'wp_augoose_render_wishlist_sidebar', 30 );
 function wp_augoose_render_wishlist_sidebar() {
+	// CRITICAL: Skip during AJAX requests to prevent HTML output before JSON
+	if ( augoose_is_wc_ajax_request() ) {
+		return;
+	}
 	if ( ! class_exists( 'WooCommerce' ) ) {
 		return;
 	}
@@ -1867,6 +1913,10 @@
 add_action( 'wp_footer', 'wp_augoose_mini_cart_html' );
 function wp_augoose_mini_cart_html() {
+	// CRITICAL: Skip during AJAX requests to prevent HTML output before JSON
+	if ( augoose_is_wc_ajax_request() ) {
+		return;
+	}
     if ( ! class_exists( 'WooCommerce' ) ) {
         return;
     }
@@ -2352,6 +2402,10 @@
 add_action( 'wp_footer', 'wp_augoose_hide_newsletter_checkbox' );
 function wp_augoose_hide_newsletter_checkbox() {
+	// CRITICAL: Skip during AJAX requests to prevent HTML output before JSON
+	if ( augoose_is_wc_ajax_request() ) {
+		return;
+	}
 	if ( is_checkout() ) {
 		?>
 		<style>
@@ -1715,6 +1769,10 @@
 add_action(
 	'template_redirect',
 	function () {
+		// CRITICAL: Skip during AJAX requests (including wc-ajax)
+		if ( augoose_is_wc_ajax_request() ) {
+			return;
+		}
 		if ( is_admin() || ( defined( 'DOING_AJAX' ) && DOING_AJAX ) ) {
 			return;
 		}
@@ -2930,6 +2988,15 @@
 add_filter( 'woocommerce_update_order_review_fragments', 'wp_augoose_preserve_checkout_product_images', 10, 1 );
 function wp_augoose_preserve_checkout_product_images( $fragments ) {
+	// CRITICAL: Ensure fragments is always an array
+	if ( ! is_array( $fragments ) ) {
+		$fragments = array();
+	}
+	
 	// Ensure order review fragment includes product images
 	if ( ! isset( $fragments['.woocommerce-checkout-review-order-table'] ) ) {
+		// Clear any existing output buffer before starting
+		while ( ob_get_level() ) {
+			ob_end_clean();
+		}
 		ob_start();
 		woocommerce_order_review();
 		$fragments['.woocommerce-checkout-review-order-table'] = ob_get_clean();
--- a/wp-augoose/functions.php
+++ b/wp-augoose/functions.php
@@ -1099,6 +1099,10 @@
 add_action( 'wp_head', 'wp_augoose_add_critical_css', 999 );
 function wp_augoose_add_critical_css() {
+	// CRITICAL: Skip during AJAX requests to prevent HTML output before JSON
+	if ( function_exists( 'augoose_is_wc_ajax_request' ) && augoose_is_wc_ajax_request() ) {
+		return;
+	}
     // Emergency/nuclear overrides should never run on production unless explicitly enabled.
     // Enable by adding `?augoose_debug=1` to the URL.
     if ( ! isset( $_GET['augoose_debug'] ) ) { // phpcs:ignore WordPress.Security.NonceVerification.Recommended
@@ -1272,6 +1276,10 @@
 add_action( 'wp_head', 'wp_augoose_add_wishlist_handler_inline', 5 );
 function wp_augoose_add_wishlist_handler_inline() {
+	// CRITICAL: Skip during AJAX requests to prevent HTML output before JSON
+	if ( function_exists( 'augoose_is_wc_ajax_request' ) && augoose_is_wc_ajax_request() ) {
+		return;
+	}
     if ( ! class_exists( 'WooCommerce' ) ) {
         return;
     }
@@ -1407,6 +1415,10 @@
 add_action( 'wp_footer', 'wp_augoose_force_grid_layout' );
 function wp_augoose_force_grid_layout() {
+	// CRITICAL: Skip during AJAX requests to prevent HTML output before JSON
+	if ( function_exists( 'augoose_is_wc_ajax_request' ) && augoose_is_wc_ajax_request() ) {
+		return;
+	}
     // Emergency JS should never run on production unless explicitly enabled.
     // Enable by adding `?augoose_debug=1` to the URL.
     if ( ! isset( $_GET['augoose_debug'] ) ) { // phpcs:ignore WordPress.Security.NonceVerification.Recommended
@@ -724,6 +724,10 @@
         // Add nonce to meta tag for wishlist-simple.js
         add_action( 'wp_head', function() {
+			// CRITICAL: Skip during AJAX requests to prevent HTML output before JSON
+			if ( function_exists( 'augoose_is_wc_ajax_request' ) && augoose_is_wc_ajax_request() ) {
+				return;
+			}
             echo '<meta name="wp-augoose-nonce" content="' . esc_attr( wp_create_nonce( 'wp_augoose_nonce' ) ) . '">' . "\n";
         }, 1 );
